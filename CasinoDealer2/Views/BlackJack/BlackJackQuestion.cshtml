@using CasinoDealer2.Models.BlackJackSettings
@model BlackJackVM

@{
    ViewData["Title"] = "Index";
}

<div class="container" style="min-height: 100vh;">
    <h1 class="card-title text-center">BlackJack</h1>

    <div class="card w-50 mx-auto mb-4">
        <div class="card-body">
            <form asp-action="UpdateSettings" method="post" class="d-flex align-items-center justify-content-center">
                <div class="form-group mr-2 d-flex align-items-center">
                    <label asp-for="Settings.MinBet" class="mr-2">Min</label>
                    <select asp-for="Settings.MinBet" id="minBet" class="form-control" style="max-width: 80px">
                        <option value="5">5</option>
                        <option value="10">10</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                        <option value="500">500</option>
                    </select>
                </div>
                <div class="form-group mr-2 d-flex align-items-center">
                    <label asp-for="Settings.MaxBet" class="mr-2">Max</label>
                    <select asp-for="Settings.MaxBet" id="maxBet" class="form-control" style="max-width: 80px">
                        <option value="100">100</option>
                        <option value="200">200</option>
                        <option value="300">300</option>
                        <option value="400">400</option>
                        <option value="500">500</option>
                        <option value="1000">1.000</option>
                        <option value="5000">5.000</option>
                        <option value="10000">10.000</option>
                    </select>
                </div>
                <div class="form-group mr-2 d-flex align-items-center">
                    <label asp-for="Settings.Increment" class="mr-2">Step</label>
                    <select asp-for="Settings.Increment" class="form-control" style="max-width: 80px">
                        <option value="5">5</option>
                        <option value="10">10</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                    
                </div>
                <button type="submit" class="btn btn-primary">Save</button>
            </form>
        </div>
    </div>

    <div class="card w-50 mx-auto">
        <div class="card-body">
            <form asp-action="BlackJackQuestion" method="post" class="d-flex flex-column align-items-center">
                <input type="hidden" asp-for="Question.Id" />
                <input type="hidden" asp-for="Question.CorrectAnswer" />
                <input type="hidden" asp-for="Question.IsCorrect" />
                <input type="hidden" asp-for="Question.IncorrectStreak" />
                <input type="hidden" asp-for="Question.QuestionText" />
                <input type="hidden" asp-for="Question.GameType" />

                <div class="form-group text-center">
                    <p>@Model.Question.QuestionText</p>
                    @if (Model.Question.IncorrectStreak > 0)
                    {
                        <p class="text-danger">Wrong!</p>
                    }
                </div>
                <div class="form-group">
                    <input asp-for="Question.Answer" type="number" step="any" value="" autofocus class="form-control" placeholder="answer" style="max-width: 150px" />
                    <span asp-validation-for="Question.Answer" class="text-danger"></span>
                </div>

                <div class="text-center">
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>


<script>
    document.getElementById('minBet').addEventListener('change', function () {
        var minBet = parseInt(this.value);
        var maxBetSelect = document.getElementById('maxBet');

        if (minBet === 100 || minBet === 500) {
            maxBetSelect.value = 5000;
        } else {
            maxBetSelect.value = '';
        }
    });
</script>

<style>
    /* Hide spin buttons in input fields */
    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    input[type="number"] {
        -moz-appearance: textfield; /* Firefox */
    }
</style>

